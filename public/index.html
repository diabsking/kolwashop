<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kolwaz Shop - Votre Boutique en Ligne</title>
  <style>
    /* Global */
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  background-color: #F4F7FA;
  color: #333;
  line-height: 1.6;
  opacity: 0;
  animation: fadeIn 1s forwards;
}
a { text-decoration: none; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* En-t√™te sup√©rieur */
.top-header {
  background-color: #131921;
  color: #fff;
  padding: 15px 20px;
  text-align: center;
  /* Ombre supprim√©e */
}
.top-header .logo {
  font-size: 27px;
  font-weight: bold;
  color: #febd69;
}

/* Barre de recherche centr√©e */
.search-bar-container {
  background: linear-gradient(135deg, #f0f4f8, #ffffff); /* Fond en d√©grad√© subtil */
  padding: 40px 0;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
  text-align: center;
}
 .search-bar-container {
    background: #fff;
  }

/* Conteneur de la barre de recherche */
.search-container {
  display: inline-flex;
  width: 100%;
  max-width: 700px; /* Impact visuel optimis√© */
  margin: 0 auto;
  border-radius: 50px; /* Forme arrondie pour un look moderne */
  overflow: hidden; /* Pour appliquer le border-radius sur l'ensemble */
  background-color: #fff;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

/* Champ de saisie */
.search-container input {
  flex: 1;
  padding: 14px 20px;
  font-size: 16px;
  border: none; /* Style √©pur√© */
  outline: none;
}

/* Focus sur le champ de saisie */
.search-container input:focus {
  box-shadow: inset 0 0 0 2px #febd69;
}

/* Bouton de recherche */
.search-container button {
  background-color: #febd69;
  border: none;
  padding: 0 25px;
  font-size: 16px;
  color: #fff;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0; /* Emp√™che le bouton de r√©tr√©cir */
  min-width: 60px;  /* Largeur minimale */
}

/* Effet hover sur le bouton */
.search-container button:hover {
  background-color: #f8a94b;
}

/* Pour les √©crans mobiles : la barre prend toute la largeur et le fond devient blanc */
@media (max-width: 768px) {
  .search-container {
    width: 100%;
    max-width: none;
    margin: 0 10px; /* Marge lat√©rale pour un l√©ger espacement */
  }
  .search-bar-container {
    background: #fff;
  }
  .search-container button {
    min-width: 80px;  /* Assure une largeur minimale sans forcer une largeur fixe */
    flex-shrink: 0;
    padding: 0 15px;  /* Padding ajust√© pour que le texte "Rechercher" reste visible */
  }
}
/* Barre de navigation */
.navbar {
  display: flex;
  justify-content: flex-end; /* Alignement √† droite */
  padding: 15px 20px; /* Espacement confortable */
  background-color: #ffffff; /* Fond blanc */
  border-bottom: 2px solid #ddd; /* Ligne subtile sous la barre */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Ombre discr√®te pour ajouter de la profondeur */
  transition: background-color 0.3s ease; /* Transition douce */
}

/* Effet de survol de la barre */
.navbar:hover {
  background-color: #f5f5f5; /* Couleur de fond lors du survol */
}

/* Liens de la navigation */
.navbar a {
  position: relative;
  font-size: 36px; /* Ic√¥nes agrandies */
  text-decoration: none;
  color: #333; /* Couleur de texte fonc√©e */
  display: flex;
  align-items: center;
  padding: 12px 20px;
  margin: 0 10px; /* Espace entre les √©l√©ments */
  border-radius: 8px; /* Coins arrondis pour un effet plus doux */
  transition: color 0.3s ease, transform 0.3s ease; /* Transition pour la couleur et l'agrandissement */
}

/* Changement de couleur au survol */
.navbar a:hover {
  color: #f44336; /* Couleur rouge attirante au survol */
  transform: scale(1.1); /* Effet d'agrandissement au survol */
}

/* Texte masqu√© sur les liens, affich√© au survol */
.navbar a::after {
  content: attr(title); /* Texte affich√© au survol */
  position: absolute;
  bottom: -30px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.8); /* Fond sombre avec transparence */
  color: white;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 14px;
  white-space: nowrap;
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
  pointer-events: none;
}

/* Afficher le texte au survol */
.navbar a:hover::after {
  opacity: 1;
}

/* Ic√¥nes dans les liens de la barre de navigation */
.navbar a i {
  font-size: 28px; /* Taille de base des ic√¥nes */
  margin-right: 12px;
}

/* Pour les √©crans mobiles */
@media (max-width: 768px) {
  .navbar a {
    font-size: 32px; /* Taille plus grande sur mobile */
    padding: 10px; /* Moins de padding pour une meilleure utilisation de l'espace */
  }

  .navbar a i {
    font-size: 36px; /* Augmentation de la taille des ic√¥nes sur mobile */
  }
}
/* Ajuster le panier */
.cart-icon {
  position: relative;
}

.cart-icon span {
  position: absolute;
  top: -5px;
  right: -10px;
  background: red;
  color: white;
  font-size: 16px; /* Taille du texte du nombre dans le panier */
  font-weight: bold;
  padding: 3px 7px;
  border-radius: 50%;
}

/* Ajuster le panier */
.cart-icon {
  position: relative;
}

.cart-icon span {
  position: absolute;
  top: -5px;
  right: -10px;
  background: red;
  color: white;
  font-size: 14px;
  font-weight: bold;
  padding: 3px 7px;
  border-radius: 50%;
}
/* Effet de survol supprim√© */
/* .navbar a:hover { color: #febd69; } */
/* Badge compteur sur le Panier */
#cartCount {
  position: absolute;
  top: -5px;
  right: -10px;
  background-color: red;
  color: white;
  border-radius: 50%;
  padding: 2px 6px;
  font-size: 10px;
}

/* Menu d√©roulant des cat√©gories */
.category-buttons {
  display: flex;
  overflow-x: auto;
  white-space: nowrap;
  padding: 10px;
  background-color: #fff;
  border-bottom: 1px solid #ccc;
}

/* Style des boutons de cat√©gorie */
.category-button {
  flex: 0 0 auto;
  margin-right: 10px;
  padding: 10px 20px;
  background-color: #fff;
  color: #333;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold; /* Texte en gras */
  border: none;
  transition: all 0.3s ease; /* Animation fluide */
}

/* Effet au survol */
.category-button:hover {
  background-color: #f0f0f0;
  transform: scale(1.05); /* L√©g√®re augmentation de la taille */
  font-weight: bold; /* Confirme que le texte reste en gras */
}

/* Effet au clic */
.category-button:active {
  background-color: #ddd;
  transform: scale(0.95);
  font-weight: bold; /* Confirme que le texte reste en gras */
}
/* Style du chargement */
.loading {
  display: none;
  text-align: center;
  font-size: 18px;
  font-weight: bold;
  color: #555;
}

/* Section Produits */
main section {
  background-color: #ffffff;
  padding: 40px 0;
}
.grid-container {
  display: grid;
  grid-template-columns: repeat(10, 1fr);
  gap: 20px;
  width: 100%;
  max-width: 100%;
  padding: 20px;
  margin: 0 auto;
}
.grid-item {
  background-color: #fff;
  padding: 10px;
  border-radius: 5px;
  /* Ombre supprim√©e */
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 150px;
  position: relative;
}
/* Effet de survol supprim√© */
/* .grid-item:hover { transform: translateY(-10px); } */
.grid-item img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 0;
  word-wrap: break-word;
}
/* Effet de survol supprim√© */
/* .grid-item img:hover { transform: scale(1.05); } */
.grid-item .product-name {
  font-size: 13px;
  font-weight: bold;
  margin-top: auto;
}
.grid-item .product-price {
  font-size: 12px;
  color: #ff9900;
  font-weight: bold;
}
.grid-item button {
  padding: 8px 12px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 12px;
  transition: background-color 0.3s;
}
.grid-item .add-to-cart {
  background-color: #ff9900;
  color: #fff;
}
/* Pour √©viter tout effet de survol sur le bouton add-to-cart */
.grid-item .add-to-cart:hover { 
  background-color: #ff9900;
}
.grid-item .add-to-cart {
  display: none; /* Cache le bouton Ajouter au panier */
}

.grid-item .details-button {
  display: block; /* Assure que le bouton est bien visible */
  width: 100%; /* Occupe toute la largeur */
  text-align: center; /* Centre le texte */
  font-size: 16px; /* Augmente la taille du texte */
  font-weight: bold; /* Met le texte en gras */
  padding: 10px; /* Ajuste le padding */
}
/* Effet de survol supprim√© */
/* .grid-item .details-button:hover { background-color: #007bff; color: #fff; } */

/* Section de d√©tail int√©gr√©e */
#detailSection {
  display: none;
  padding: 20px;
  background-color: #fff;
  margin: 20px;
}
.detail-main {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  margin-bottom: 20px;
}
.detail-photo,
.detail-info {
  flex: 1;
  min-width: 300px;
}
.detail-photo img {
  width: 100%;
  border-radius: 8px;
}
.detail-info h1 {
  margin-top: 0;
}
.similar-products {
  margin-top: 30px;
}
.similar-products h2 {
  font-size: 20px;
  margin-bottom: 10px;
}

/* Grille des produits similaires avec 15 produits */
.similar-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr); /* 5 colonnes par ligne */
  gap: 20px;
  width: 100%;
  max-width: 100%;
  padding: 20px;
  margin: 0 auto;
  max-height: calc(15 * 1fr); /* Limite l'affichage √† 20 √©l√©ments */
  overflow: hidden; /* Cache les √©l√©ments en exc√®s */
}
.similar-item {
  background: #fff;
  padding: 15px;
  border-radius: 5px;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 150px;
  position: relative;
}
/* Effet de survol supprim√© */
/* .similar-item:hover { transform: translateY(-10px); } */
.similar-item img {
  width: 100%;
  height: 100px;
  object-fit: cover;
  border-radius: 5px;
  word-wrap: break-word;
}
/* Effet de survol supprim√© */
/* .similar-item img:hover { transform: scale(1.05); } */
.similar-item .product-name {
  font-size: 12px;
  font-weight: bold;
  margin-top: auto;
}
.similar-item .product-price {
  font-size: 12px;
  color: #ff9900;
  font-weight: bold;
}
.similar-item button {
  padding: 8px 12px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 12px;
  transition: background-color 0.3s;
}
.similar-item .add-to-cart {
  background-color: #ff9900;
  color: #fff;
}
.similar-item .add-to-cart:hover { 
  background-color: #ff9900;
}

/* Responsive: Adaptation pour les petits √©crans */
@media (max-width: 600px) {
  .grid-container,
  .similar-grid {
    display: flex;
    flex-wrap: nowrap;
    overflow-x: auto;
    gap: 10px;
    padding: 10px;
  }
  .grid-item,
  .similar-item {
    flex: 0 0 auto;
    width: 150px;
    height: auto;
  }
  .search-container { width: 90%; }
  .navbar a { margin: 0 10px; font-size: 14px; }
  .detail-main { flex-direction: column; }
  .auth-buttons { top: 50px; right: 5px; }
}

.action-buttons-detail {
  margin-top: 20px;
  text-align: center;
}
.action-buttons-detail a {
  display: inline-block;
  padding: 10px 20px;
  background-color: orange;
  color: white;
  text-decoration: none;
  border-radius: 20px;
  font-size: 16px;
  margin: 0 10px;
  transition: background-color 0.3s;
}
/* Effet de survol supprim√© */
/* .action-buttons-detail a:hover { background-color: darkorange; } */
/* Pied de page */
footer {
  position: relative;
  margin-top: 40px;
  background-color: #131921;
  color: #fff;
  padding: 40px 20px;
  font-size: 14px;
}
.footer-container {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  margin-bottom: 20px;
}
.footer-column {
  flex: 1;
  min-width: 250px;
  margin: 10px;
}
.footer-column h3 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 16px;
}
.footer-column p {
  font-size: 14px;
  line-height: 1.5;
}
.footer-bottom {
  text-align: center;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  padding-top: 10px;
}

/* Toaster Notification */
.notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background-color: #28a745;
  color: white;
  padding: 10px 20px;
  border-radius: 5px;
  font-size: 14px;
  display: none;
  z-index: 1000;
  /* Ombre supprim√©e */
  opacity: 0;
  transition: opacity 0.5s ease;
}
.notification.show { display: block; opacity: 1; }

.new-badge {
  position: absolute;
  top: 10px;
  left: 10px;
  background-color: #ff0000;
  color: #fff;
  padding: 5px 10px;
  font-size: 0.8em;
  border-radius: 5px;
  z-index: 9999 !important;      /* S'assure que le badge est au-dessus de tous les autres √©l√©ments */
  display: block !important;      /* Force son affichage m√™me si d'autres styles tentent de le masquer */
  opacity: 1 !important;          /* Assure que le badge est bien visible */
}
.location-indicator {
  position: absolute;
  top: 10px;
  left: 10px;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 16px;
  font-weight: bold;
  color: white;
}
.location-indicator img {
  width: 40px;
  height: auto;
}
.location-text {
  display: flex;
  align-items: center;
  color: white;
}
.location-text i {
  color: white;
  margin-right: 5px;
}
.filter-button {
  position: absolute;
  top: 100px;
  left: 10px;
  background-color: #007bff;
  color: white;
  border: none;
  padding: 10px 15px;
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
  border-radius: 5px;
  transition: background 0.3s;
}
.popular-products {
  background-color: #ffffff;
  padding: 40px 20px;
  margin-top: 0;
  position: relative;
}

.popular-products h2 {
  font-size: 24px;
  font-weight: bold;
  text-align: center;
  margin-bottom: 30px;
  color: #333;
}

/* Conteneur en d√©filement horizontal */
.popular-carousel {
  display: flex;
  overflow-x: auto;
  gap: 30px;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 10px;
}

/* Carte produit */
.popular-item {
  flex: 0 0 auto;
  width: 220px;
  background-color: #fff;
  border: 1px solid #e0e0e0;
  border-radius: 10px;
  padding: 15px;
  text-align: center;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  scroll-snap-align: start;
}

/* Effet de survol pour un look dynamique */
.popular-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

/* Image du produit */
.popular-item img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 10px;
}

/* Description ou titre du produit */
.popular-item p {
  font-size: 16px;
  color: #555;
  margin: 0;
  font-weight: 500;
}

/* Adaptation pour les mobiles */
@media (max-width: 768px) {
  .popular-carousel {
    gap: 20px;
  }
  .popular-item {
    width: 180px;
  }
}
.loading-container {
  text-align: center;
  margin: 20px 0;
}
.spinner {
  display: inline-block;
  width: 30px;
  height: 30px;
  border: 3px solid rgba(0, 0, 0, 0.3);
  border-top: 3px solid #3498db;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Responsive: Affichage sp√©cifique pour les √©crans d'ordinateurs */
@media only screen and (min-width: 1024px) {
  /* Contrainte du conteneur avec 4 produits par ligne */
  .grid-container,
  .similar-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* 4 colonnes */
    gap: 20px;
    width: 100%;
    margin: 0 auto;
    overflow-x: hidden;
    box-sizing: border-box;
  }

/* Ajustement des √©l√©ments pour mieux afficher les textes et images */
.grid-item,
.similar-item {
  min-height: 500px; /* Hauteur augment√©e pour afficher plus de texte */
  box-sizing: border-box;
  padding: 15px;
  overflow: hidden;
  background-color: #fff;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* Ajustement de l‚Äôimage du produit */
.grid-item img,
.similar-item img {
  width: 100%;
  height: 230px; /* Laisse plus de place pour les textes */
  object-fit: cover;
  position: relative;
}

/* Nom du produit bien visible */
.grid-item .product-name,
.similar-item .product-name {
  font-weight: bold;
  font-size: 20px; /* Taille augment√©e */
  color: #333;
  margin-top: 10px;
  text-align: center;
  line-height: 1.4;
}

/* Description du produit */
.grid-item .product-description,
.similar-item .product-description {
  font-size: 16px; /* Taille augment√©e pour une meilleure lisibilit√© */
  color: #666;
  margin-top: 5px;
  text-align: center;
  padding: 0 10px; /* Ajout d'un padding pour √©viter que le texte touche les bords */
}
  /* Prix plus grand et plus visible */
  .grid-item .product-price,
  .similar-item .product-price {
    font-size: 18px;
    color: #d9534f;
    font-weight: bold;
    margin-top: 5px;
    display: block;
    text-align: center;
  }

  /* Masquer le bouton "Acheter" */
  .grid-item .add-to-cart,
  .similar-item .add-to-cart {
    display: none;
  }

  /* Bouton "D√©tail" centr√© */
  .grid-item .details-button {
    display: block;
    background: transparent;
    border: none;
    color: #007bff;
    font-size: 18px;
    font-weight: bold;
    padding: 10px 20px;
    text-align: center;
    margin: 15px auto;
    cursor: pointer;
  }

  /* Emp√™cher le d√©filement horizontal */
  html, body {
    overflow-x: hidden;
  }
}

.navbar {
  padding: 15px 30px;
}

.search-container {
  width: 60%;
}
  </style>
</head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<body>
  <!-- En-t√™te -->
  <header>
    <div class="top-header">
     <div class="logo" style="font-size: 10px; font-weight: bold; color: #fff;">
</div>
    </div>
    <div class="search-bar-container">
      <div class="search-container">
        <input type="text" id="searchBox" placeholder="Rechercher un produit...">
        <button id="searchBtn">Rechercher</button>
      </div>
    </div>
    <!-- Navigation principale -->
   <nav class="navbar">
  <a href="/" title="Accueil"></a>
  <a href="/espace-vendeur" title="Espace Vendeur">üë§</a>
  <a href="/panier" title="Panier" style="position: relative;">
    üõí <span id="cartCount">0</span>
  </a>
</nav>
  </header>
  
  <!-- Boutons de cat√©gories -->
  <div class="category-buttons">
    <button class="category-button" data-category="Tous">Tous</button>
    <button class="category-button" data-category="Homme">Homme</button>
    <button class="category-button" data-category="Femme">Femme</button>
    <button class="category-button" data-category="Gar√ßon">Gar√ßon</button>
    <button class="category-button" data-category="Fille">Fille</button>
    <button class="category-button" data-category="B√©b√©">B√©b√©</button>
    <button class="category-button" data-category="Enfant">Enfant</button>
    <button class="category-button" data-category="Sport">Sport</button>
    <button class="category-button" data-category="Livres">Livres</button>
    <button class="category-button" data-category="Mat√©riels">Mat√©riels</button>
    <button class="category-button" data-category="Cosm√©tique">Cosm√©tique</button>
    <button class="category-button" data-category="Accessoires">Accessoires</button>
    <button class="category-button" data-category="Electronique">Electronique</button>
  </div>
  
  <!-- Section Produits -->
  <main>
     <div class="popular-products">
    <h2 style="font-size: 15px;"></h2>
    <div class="popular-carousel" id="popularProducts"></div>
    </div>
    <section>
        <div id="loadingIndicator" class="loading-container">
  <div class="spinner"></div>
  <p>Chargement des produits...</p>
  </div> 
      <h2 style="text-align: center; margin-top: 10px; font-size: 15px; font-weight: bold; color: #333;"></h2>
       <div id="loading" class="loading">Chargement en cours...</div>
<div id="product-list"></div> <!-- Ici s'afficheront les produits -->
      <div id="productGrid" class="grid-container"></div>
    </section>
<div id="productContainer" style="display: none;"></div>
    <!-- Section de D√©tail du Produit (cach√©e par d√©faut) -->
    <div id="detailSection">
      <div class="detail-main">
        <div class="detail-photo">
          <img id="detailImage" src="" alt="Photo du produit">
        </div>
        <div class="detail-info">
          <h1 id="detailName">Nom du produit</h1>
          <p id="detailDescription">Description du produit...</p>
          <p><strong>Prix :</strong> <span id="detailPrice"></span> FCFA</p>
          <p><strong>Vendeur :</strong> <span id="detailSeller"></span></p>
        </div>
      </div>
      <div class="similar-products">
        <h2>Produits similaires</h2>
        <div class="similar-grid" id="similarGrid">
          <!-- Les produits similaires seront ins√©r√©s ici -->
        </div>
      </div>
 <!-- Boutons d'action dans la vue d√©tail -->
<div class="action-buttons-detail">
  <a href="#" onclick="hideDetailSection(); return false;">Retourner</a>
  <a href="#" onclick="orderProduct(this); return false;">Commander</a>
</div>

<div id="review-container">
  <h3>Donnez votre avis</h3>
  <form id="review-form">
    <input type="text" id="review-name" placeholder="Votre nom" required>
    <div class="rating-container">
      <label for="review-rating">Notez le produit :</label>
      <select id="review-rating" required>
        <option value="">Choisissez une note</option>
        <option value="1">1 √©toile</option>
        <option value="2">2 √©toiles</option>
        <option value="3">3 √©toiles</option>
        <option value="4">4 √©toiles</option>
        <option value="5">5 √©toiles</option>
      </select>
    </div>
    <textarea id="review-comment" placeholder="Votre avis" required></textarea>
    <button type="button" id="submit-review">Envoyer</button>
  </form>
  <div id="review-section">
    <!-- Les avis clients s'afficheront ici -->
  </div>
</div>>
  </div>
</div>
  </main>
  
  <!-- Pied de page -->
  <footer>
    <div class="footer-container">
      <div class="footer-column about">
        <h3>√Ä propos de Kolwaz Shop</h3>
        <p>Kolwaz Shop est votre boutique en ligne de confiance offrant des produits de qualit√© et un service exceptionnel. D√©couvrez notre vaste gamme et profitez d'une exp√©rience d'achat in√©gal√©e.</p>
      </div>
      <div class="footer-column links">
        <h3>Liens rapides</h3>
        <ul>
          <li><a href="/">Accueil</a></li>
          <li><a href="/espace-vendeur">Espace vendeur</a></li>
          <li><a href="/panier">Panier</a></li>
          <li><a href="/Administrateur">Administrateur</a></li>
          <li><a href="/contact">Contact</a></li>
        </ul>
      </div>
      <div class="footer-column contact">
        <h3>Comment devenir vendeur chez Kolwazshop</h3>
        <p>Inscription et Cr√©ation de Compte :</p>
        <p>Rendez-vous sur le site de KolwazShop.</p>
      </div>
      <div class="footer-column social">
        <h3>Suivez-nous</h3>
       <ul class="social-icons" style="display: flex; list-style: none; gap: 10px;">
    <!-- Facebook -->
    <li>
        <a href="#" aria-label="Facebook">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M22.675 0h-21.35C.597 0 0 .597 0 1.325v21.351C0 23.403.597 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.894-4.787 4.658-4.787 1.325 0 2.462.099 2.794.143v3.24l-1.917.001c-1.504 0-1.796.714-1.796 1.764v2.312h3.592l-.467 3.622h-3.125V24h6.127c.728 0 1.325-.597 1.325-1.324V1.325C24 .597 23.403 0 22.675 0z"/>
            </svg>
        </a>
    </li>
    <!-- Twitter -->
    <li>
        <a href="#" aria-label="Twitter">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M23.954 4.569c-.885.394-1.83.657-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.95.555-2.005.959-3.127 1.184-.897-.957-2.173-1.555-3.591-1.555-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.125-4.09-.205-7.719-2.165-10.148-5.144-.424.722-.666 1.56-.666 2.476 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.229-.616v.061c0 2.385 1.693 4.374 3.946 4.828-.413.111-.849.171-1.296.171-.317 0-.626-.03-.927-.086.631 1.956 2.462 3.38 4.63 3.423-1.7 1.328-3.839 2.115-6.165 2.115-.4 0-.79-.023-1.17-.067 2.196 1.41 4.808 2.23 7.616 2.23 9.142 0 14.307-7.721 14.307-14.417 0-.22-.005-.437-.014-.653.982-.71 1.834-1.597 2.507-2.61z"/>
            </svg>
        </a>
    </li>
    <!-- Instagram -->
    <li>
        <a href="#" aria-label="Instagram">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2.163c3.204 0 3.584.012 4.849.07 1.366.062 2.633.327 3.608 1.302.975.975 1.24 2.242 1.302 3.608.058 1.265.069 1.645.069 4.849s-.012 3.584-.07 4.849c-.062 1.366-.327 2.633-1.302 3.608-.975.975-2.242 1.24-3.608 1.302-1.265.058-1.645.069-4.849.069s-3.584-.012-4.849-.07c-1.366-.062-2.633-.327-3.608-1.302-.975-.975-1.24-2.242-1.302-3.608-.058-1.265-.069-1.645-.069-4.849s.012-3.584.07-4.849c.062-1.366.327-2.633 1.302-3.608.975-.975 2.242-1.24 3.608-1.302 1.265-.058 1.645-.069 4.849-.069M12 0C8.741 0 8.332.012 7.052.07 5.746.128 4.57.354 3.527 1.394 2.485 2.434 2.26 3.609 2.202 4.915 2.144 6.195 2.132 6.604 2.132 9.863s.012 3.668.07 5.948c.058 1.306.283 2.481 1.325 3.521 1.042 1.041 2.217 1.266 3.521 1.325 1.28.058 1.689.07 4.948.07s3.668-.012 4.948-.07c1.306-.058 2.481-.283 3.521-1.325 1.041-1.042 1.266-2.217 1.325-3.521.058-1.28.07-1.689.07-4.948s-.012-3.668-.07-4.948c-.058-1.306-.283-2.481-1.325-3.521C19.766.354 18.591.128 17.285.07 16.005.012 15.595 0 12 0zm0 5.838c-3.408 0-6.162 2.754-6.162 6.162s2.754 6.162 6.162 6.162 6.162-2.754 6.162-6.162-2.754-6.162-6.162-6.162zm0 10.162c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm6.406-10.845c-.796 0-1.44.645-1.44 1.44s.645 1.44 1.44 1.44 1.44-.645 1.44-1.44-.645-1.44-1.44-1.44z"/>
            </svg>
        </a>
    </li>
</ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Kolwaz Shop. Tous droits r√©serv√©s.</p>
      <p>&copy; Diasking.</p>
    </div>
  </footer>

  <!-- Toaster notification -->
  <div id="notification" class="notification"></div>
  
  <!-- Indicateur de chargement -->
  <div id="loadingIndicator" style="display: none;">Chargement...</div>
  <div id="productContainer"></div>
  
  <script>
    let allProducts = [];
    let cartCount = 0;
    // Variable globale pour stocker le produit actuellement affich√© en d√©tail
    let currentProduct = null;
    
    // Chargement des produits et initialisation des filtres d√®s le chargement de la page
    window.onload = () => {
      loadProducts();
      setupCategoryFilters();
      setupSearch();
      setupSidebarFilters();
    };

async function loadProducts() {
  const loadingIndicator = document.getElementById('loadingIndicator');
  const productContainer = document.getElementById('productContainer');

  // Afficher l'indicateur de chargement et masquer les produits
  loadingIndicator.style.display = 'block';
  productContainer.style.display = 'none';

  try {
    // Simuler un d√©lai de chargement (ex: 1.5 secondes)
    await new Promise(resolve => setTimeout(resolve, 1500));

    // R√©cup√©ration des produits depuis l'API
    const response = await fetch('/api/products');
    if (!response.ok) throw new Error('Erreur serveur');
    const data = await response.json();
    allProducts = data.products || [];

    allProducts.forEach(product => {
      product.detectedCategory = aiDetectCategory(product);
    });

    displayProducts(allProducts);
  } catch (err) {
    console.error("Erreur lors du chargement des produits:", err);
  } finally {
    // Cacher l'indicateur de chargement et afficher les produits
    loadingIndicator.style.display = 'none';
    productContainer.style.display = 'block';
  }
}
function displayProducts(products) {
  const productGrid = document.getElementById("productGrid");
  productGrid.innerHTML = products.length
    ? ""
    : "<p style='text-align:center;'>Aucun produit publi√© pour le moment.</p>";
  
  products.forEach(product => {
    const productItem = document.createElement("div");
    productItem.className = 'grid-item';

    let badgeHTML = '';
    if (product.publishedAt) {
      const publishedDate = new Date(product.publishedAt);
      const now = new Date();
      const diffTime = now - publishedDate;
      const diffDays = diffTime / (1000 * 60 * 60 * 24);
      if (diffDays < 7) {
        badgeHTML = '<span class="new-badge">Nouveau</span>';
      }
    }

    productItem.innerHTML =
      `<div class="product-image-wrapper" style="position: relative;">
         <img src="${product.imageUrl}" alt="${product.productName}" class="product-image">
         ${badgeHTML}
       </div>
       <div class="product-name" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
         ${product.productName}
       </div>
       <div class="product-description" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
         ${product.description}
       </div>
       <div class="product-price">${product.price} FCFA</div>
       <div style="margin-top: 10px;">
         <button class="add-to-cart" onclick="addToCart('${product.productName}', ${product.price}, '${product.description}', '${product.imageUrl}', '${product.sellerEmail}', this)">Acheter</button>
         <button class="details-button" onclick='showProductDetailView(${JSON.stringify(product)})'>D√©tail</button>
       </div>`;
    productGrid.appendChild(productItem);
  });
}

function filterCheapProducts() {
    const filteredProducts = allProducts.filter(product => product.price < 10000);
    displayProducts(filteredProducts);
}

    // Recherche sur tous les produits
    function setupSearch() {
      const searchBtn = document.getElementById("searchBtn");
      const searchBox = document.getElementById("searchBox");
      searchBtn.addEventListener("click", () => {
        const query = searchBox.value.trim().toLowerCase();
        const filtered = allProducts.filter(product => {
          return product.productName.toLowerCase().includes(query) ||
                 (product.description && product.description.toLowerCase().includes(query)) ||
                 (product.detectedCategory && product.detectedCategory.toLowerCase().includes(query));
        });
        displayProducts(filtered);
      });
      searchBox.addEventListener("keyup", (event) => {
        if (event.key === "Enter") {
          searchBtn.click();
        }
      });
    }

   // Mise en place des filtres par cat√©gorie avec effet de chargement
function setupCategoryFilters() {
  const buttons = document.querySelectorAll('.category-button');
  const productContainer = document.getElementById('product-list'); // Conteneur des produits
  const loadingIndicator = document.getElementById('loading'); // √âl√©ment de chargement

  buttons.forEach(button => {
    button.addEventListener('click', () => {
      const category = button.getAttribute('data-category');

      // Afficher l'indicateur de chargement et vider les produits
      loadingIndicator.style.display = 'block';
      productContainer.innerHTML = '';

      setTimeout(() => {
        // Filtrage des produits apr√®s le chargement simul√©
        let filteredProducts;
        if (category === 'Tous') {
          filteredProducts = allProducts;
        } else {
          filteredProducts = allProducts.filter(product =>
            product.detectedCategory.toLowerCase() === category.toLowerCase()
          );
        }

        // Cacher l'indicateur de chargement et afficher les produits
        loadingIndicator.style.display = 'none';
        displayProducts(filteredProducts);
      }, 2000); // D√©lai de 2 secondes
    });
  });
}

    // Fonction de d√©tection de cat√©gorie
    function aiDetectCategory(product, chosenCategory) {
      if (chosenCategory) {
        return chosenCategory.toLowerCase();
      }
      const name = product.productName ? product.productName.toLowerCase() : '';
      const description = product.description ? product.description.toLowerCase() : '';
      const imageUrl = product.imageUrl ? product.imageUrl.toLowerCase() : '';
      const categoriesKeywords = {
        "Homme": ["homme", "men", "gar√ßon", "costume", "habit", "veste", "pantalon", "chemise"],
        "Femme": ["femme", "woman", "dame", "robe", "jupe", "blouse", "maquillage", "sac √† main"],
        "Gar√ßon": ["gar√ßon", "boy", "enfant gar√ßon", "jeune homme", "ado gar√ßon", "t-shirt gar√ßon"],
        "Fille": ["fille", "girl", "jeune fille", "ado fille", "robe fille", "jupe fille"],
        "B√©b√©": ["b√©b√©", "enfant", "nourrisson", "bambin"],
        "Cosm√©tique": ["cosm√©tique", "makeup", "maquillage", "parfum", "soin"],
        "Mat√©riels": ["mat√©riel", "outil", "machine"],
        "Accessoires": ["accessoire", "sac", "ceinture", "montre", "bijoux", "lunettes"],
        "Electronique": ["√©lectronique", "smartphone", "ordinateur", "tablet", "tv", "cam√©ra", "audio"],
        "Livres": ["livre", "book", "roman", "manga", "bd", "bande dessin√©e", "√©ducation"],
        "Sport": ["sport", "football", "basket", "tennis", "running", "fitness", "v√©lo", "musculation"]
      };
      for (const [category, keywords] of Object.entries(categoriesKeywords)) {
        for (const keyword of keywords) {
          if (name.includes(keyword) || description.includes(keyword) || imageUrl.includes(keyword)) {
            return category;
          }
        }
      }
      return "Autres";
    }

    // Fonction pour ajouter au panier
    function addToCart(name, price, description, imageUrl, sellerEmail, button) {
      button.textContent = "Ajout√©!";
      button.disabled = true;
      button.style.backgroundColor = "#28a745";
      fetch('/api/add-to-cart', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name, price, description, imageUrl, sellerEmail })
      })
      .then(response => response.ok ? response.json() : Promise.reject('Erreur API'))
      .then(data => {
        if (data.success) {
          console.log("Produit ajout√© au panier avec succ√®s!");
          cartCount++;
          updateCartCount();
        } else {
          throw new Error("Erreur lors de l'ajout au panier");
        }
      })
      .catch(err => {
        console.error("√âchec lors de l'ajout au panier:", err);
        button.textContent = "R√©essayer";
        button.disabled = false;
      });
      showNotification(`${name} ajout√© au panier!`);
    }

    function updateCartCount() {
      document.getElementById("cartCount").textContent = cartCount;
    }

    // Affichage de la notification temporaire
    function showNotification(message) {
      const notification = document.getElementById("notification");
      if (!notification) return;
      notification.textContent = message;
      notification.classList.add("show");
      setTimeout(() => notification.classList.remove("show"), 3000);
    }

    // Affichage du d√©tail du produit dans la section int√©gr√©e
    function showProductDetailView(product) {
      // Stocker le produit actuellement affich√©
      currentProduct = product;
      // Masquer la grille de produits
      document.getElementById("productGrid").style.display = "none";
      // Afficher la section de d√©tail
      document.getElementById("detailSection").style.display = "block";
      // Mettre √† jour les informations du produit
      document.getElementById("detailImage").src = product.imageUrl;
      document.getElementById("detailImage").alt = product.productName;
      document.getElementById("detailName").innerText = product.productName;
      document.getElementById("detailDescription").innerText = product.description;
      document.getElementById("detailPrice").innerText = product.price;
      document.getElementById("detailSeller").innerText = product.sellerEmail || "Inconnu";
      
      // Filtrer et afficher des produits similaires (m√™me cat√©gorie, hors du produit s√©lectionn√©)
      let similarProducts = allProducts.filter(p => p.detectedCategory === product.detectedCategory && p._id !== product._id);
      displaySimilarProducts(similarProducts);
    }

    function displaySimilarProducts(products) {
      const similarGrid = document.getElementById("similarGrid");
      similarGrid.innerHTML = "";
      if (products.length === 0) {
        similarGrid.innerHTML = "<p>Aucun produit similaire trouv√©.</p>";
        return;
      }
      products.forEach(prod => {
        const div = document.createElement("div");
        div.className = "similar-item";
        div.innerHTML = `<img src="${prod.imageUrl}" alt="${prod.productName}">
                         <p>${prod.productName}</p>
                         <p>${prod.price} FCFA</p>`;
        div.onclick = function() {
          showProductDetailView(prod);
        }
        similarGrid.appendChild(div);
      });
    }

    // Fonction pour masquer la section de d√©tail et revenir √† la grille de produits
    function hideDetailSection() {
      document.getElementById("detailSection").style.display = "none";
      document.getElementById("productGrid").style.display = "grid";
    }

    // Fonction pour le bouton Commander, qui ajoute le produit affich√© au panier
    function orderProduct(button) {
      if (!currentProduct) return;
      addToCart(
        currentProduct.productName,
        currentProduct.price,
        currentProduct.description,
        currentProduct.imageUrl,
        currentProduct.sellerEmail,
        button
      );
    }

    // Filtrer les produits par mot-cl√© √† partir de la sidebar (si pr√©sente)
    function filterProductsByKeyword(keyword) {
      const searchText = keyword.toLowerCase();
      const filtered = allProducts.filter(product => {
        return (product.productName && product.productName.toLowerCase().includes(searchText)) ||
               (product.description && product.description.toLowerCase().includes(searchText)) ||
               (product.detectedCategory && product.detectedCategory.toLowerCase().includes(searchText));
      });
      displayProducts(filtered);
    }
      document.addEventListener("DOMContentLoaded", function () {
        let carousel = document.querySelector(".popular-carousel");
        setInterval(() => {
            carousel.scrollBy({ left: 200, behavior: "smooth" });
            if (carousel.scrollLeft + carousel.clientWidth >= carousel.scrollWidth) {
                carousel.scrollTo({ left: 0, behavior: "smooth" });
            }
        }, 3000);
    });
// Fonction pour charger les avis d'un produit
async function loadReviews(productId) {
  try {
    const response = await fetch(`/api/products/${productId}/reviews`);
    const reviews = await response.json();
    const reviewSection = document.getElementById("review-section");
    if (reviews.length === 0) {
      reviewSection.innerHTML = "<p>Aucun avis pour le moment.</p>";
      return;
    }
    reviewSection.innerHTML = reviews.map(review => {
      const stars = "‚òÖ".repeat(review.rating) + "‚òÜ".repeat(5 - review.rating);
      return `
        <div class="review">
          <p><strong>${review.userName}</strong> - ${stars}</p>
          <p>${review.comment}</p>
        </div>
      `;
    }).join("");
  } catch (err) {
    console.error("Erreur lors du chargement des avis:", err);
  }
}

// Ajout de l'√©couteur d'√©v√©nement pour la soumission des avis
document.getElementById("submit-review").addEventListener("click", async function () {
  const userName = document.getElementById("review-name").value.trim();
  const userRating = parseInt(document.getElementById("review-rating").value, 10);
  const userComment = document.getElementById("review-comment").value.trim();

  if (!userName || !userRating || !userComment) {
    alert("Veuillez remplir tous les champs de l'avis.");
    return;
  }

  // Envoi du nouvel avis vers le serveur
  try {
    const response = await fetch(`/api/products/${currentProduct._id}/reviews`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ userName, rating: userRating, comment: userComment })
    });
    if (!response.ok) throw new Error("Erreur lors de l'enregistrement de l'avis");
    // Rechargez les avis apr√®s envoi
    loadReviews(currentProduct._id);
    // R√©initialiser le formulaire
    document.getElementById("review-form").reset();
  } catch (err) {
    console.error(err);
    alert("Erreur lors de l'enregistrement de l'avis.");
  }
});

// Mettez √† jour votre fonction showProductDetailView pour charger les avis :
function showProductDetailView(product) {
  currentProduct = product;
  document.getElementById("productGrid").style.display = "none";
  document.getElementById("detailSection").style.display = "block";
  document.getElementById("detailImage").src = product.imageUrl;
  document.getElementById("detailImage").alt = product.productName;
  document.getElementById("detailName").innerText = product.productName;
  document.getElementById("detailDescription").innerText = product.description;
  document.getElementById("detailPrice").innerText = product.price + " FCFA";
  document.getElementById("detailSeller").innerText = product.sellerEmail || "Inconnu";
  
  // Charger les avis pour ce produit
  loadReviews(product._id);
  
  let similarProducts = allProducts.filter(p => p.detectedCategory === product.detectedCategory && p._id !== product._id);
  displaySimilarProducts(similarProducts);
}
    // Initialiser les filtres de la sidebar (si un tableau de filtres existe)
    function setupSidebarFilters() {
      const rows = document.querySelectorAll('#filterTable td');
      rows.forEach(row => {
        row.addEventListener('click', () => {
          const keyword = row.textContent.trim();
          filterProductsByKeyword(keyword);
        });
      });
    }
 document.addEventListener('DOMContentLoaded', function() {
    loadPopularProducts();  // Charger les produits populaires d√®s le chargement de la page
});

async function loadPopularProducts() {
    const response = await fetch("/api/products/popular");
    const produits = await response.json();
    const container = document.getElementById("popularProducts");

    // V√©rification s'il y a des produits populaires
    if (produits.length === 0) {
        container.innerHTML = "<p>Aucun produit populaire trouv√©.</p>";
        return;
    }

    // Affichage des produits populaires avec les bons champs
    container.innerHTML = produits.map(produit => `
        <div class="popular-item">
            <span class="badge">Populaire</span>
            <img src="${produit.imageUrl}" alt="${produit.productName}">
            <p>${produit.productName}</p>
            <p>${produit.price} FCFA</p>
        </div>
    `).join("");
}
  </script>
</body>
</html>