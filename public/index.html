<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kolwaz Shop - Votre Boutique en Ligne</title>
  <style>
    /* Global */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #F4F7FA;
      color: #333;
      line-height: 1.6;
      opacity: 0;
      animation: fadeIn 1s forwards;
    }
    a { text-decoration: none; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    /* En-t√™te sup√©rieur */
    .top-header {
      background-color: #131921;
      color: #fff;
      padding: 15px 20px;
      text-align: center;
    }
    .top-header .logo {
      font-size: 27px;
      font-weight: bold;
      color: #febd69;
    }

   /* Conteneur de la barre de recherche */
.search-bar-container {
  background: #fff;  /* Fond blanc pour toute la largeur */
  padding: 40px 0;  /* Un peu de padding pour l'espacement */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);  /* Ombre l√©g√®re */
  text-align: center;  /* Centrer le contenu de la barre */
}

/* Conteneur de la recherche */
.search-container {
  display: flex;
  justify-content: space-between;  /* Espacement entre input et bouton */
  max-width: 700px;  /* Limiter la largeur max */
  width: 100%;  /* Utiliser toute la largeur disponible */
  margin: 0 auto;
  border-radius: 50px;  /* Forme arrondie pour un look moderne */
  overflow: hidden;
  background-color: #fff;  /* Fond blanc */
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);  /* Ombre l√©g√®re */
}

/* Champ de saisie */
.search-container input {
  flex-grow: 1;  /* Prendre toute la largeur disponible */
  padding: 12px 20px;
  font-size: 16px;
  border: none;
  outline: none;
  border-radius: 50px;  /* Coins arrondis sur le champ de saisie */
}

/* Focus sur le champ de saisie */
.search-container input:focus {
  box-shadow: inset 0 0 0 2px #febd69;
}

/* Bouton de recherche */
.search-container button {
  background-color: #febd69;
  border: none;
  padding: 12px 20px;
  font-size: 16px;
  color: white;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.3s;
  flex-shrink: 0;  /* Emp√™che le bouton de r√©tr√©cir */
  border-radius: 50px;  /* Bordure arrondie pour le bouton */
}

/* Effet hover sur le bouton */
.search-container button:hover {
  background-color: #f8a94b;
}

/* Pour les √©crans mobiles : la barre prend toute la largeur et le fond devient blanc */
@media (max-width: 768px) {
  .search-bar-container {
    background: #fff;  /* Fond blanc pour tous les √©crans */
    padding: 20px 0;  /* R√©duire le padding pour les petits √©crans */
  }

  .search-container {
    flex-direction: row;  /* Empilement horizontal sur les petits √©crans */
    align-items: center;  /* Centrer les √©l√©ments horizontalement */
    width: 90%;  /* Utiliser presque toute la largeur disponible */
    margin: 0 auto;
    border-radius: 50px;  /* Coins arrondis pour un look moderne */
    overflow: hidden;
    background-color: #fff;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);  /* Ombre l√©g√®re */
  }

  /* Champ de saisie : large pour occuper toute la largeur */
  .search-container input {
    width: 80%;  /* L'input prend 80% de la largeur */
    padding: 12px 20px;
    font-size: 16px;
    border: none;
    outline: none;
    border-radius: 50px;  /* Coins arrondis sur le champ de saisie */
  }

  /* Bouton de recherche : large, arrondi et centr√© */
  .search-container button {
    width: 30%;  /* Le bouton prend 18% de la largeur */
    padding: 12px 20px;
    font-size: 16px;
    background-color: #febd69;
    border: none;
    color: white;
    font-weight: bold;
    cursor: pointer;
    border-radius: 50px;  /* Bordure arrondie pour le bouton */
    transition: background-color 0.3s;
  }

  /* Effet hover sur le bouton */
  .search-container button:hover {
    background-color: #f8a94b;
  }
}
/* Barre de navigation */
.navbar {
  display: flex;
  justify-content: flex-end; /* Alignement √† droite */
  padding: 15px 20px; /* Espacement confortable */
  background-color: #ffffff; /* Fond blanc */
  border-bottom: 2px solid #ddd; /* Ligne subtile sous la barre */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Ombre discr√®te pour ajouter de la profondeur */
  transition: background-color 0.3s ease; /* Transition douce */
}

/* Effet de survol de la barre */
.navbar:hover {
  background-color: #f5f5f5; /* Couleur de fond lors du survol */
}

/* Liens de la navigation */
.navbar a {
  position: relative;
  font-size: 36px; /* Ic√¥nes agrandies */
  text-decoration: none;
  color: #333; /* Couleur de texte fonc√©e */
  display: flex;
  align-items: center;
  padding: 12px 20px;
  margin: 0 10px; /* Espace entre les √©l√©ments */
  border-radius: 8px; /* Coins arrondis pour un effet plus doux */
  transition: color 0.3s ease, transform 0.3s ease; /* Transition pour la couleur et l'agrandissement */
}

/* Changement de couleur au survol */
.navbar a:hover {
  color: #f44336; /* Couleur rouge attirante au survol */
  transform: scale(1.1); /* Effet d'agrandissement au survol */
}

/* Texte masqu√© sur les liens, affich√© au survol */
.navbar a::after {
  content: attr(title); /* Texte affich√© au survol */
  position: absolute;
  bottom: -30px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.8); /* Fond sombre avec transparence */
  color: white;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 14px;
  white-space: nowrap;
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
  pointer-events: none;
}

/* Afficher le texte au survol */
.navbar a:hover::after {
  opacity: 1;
}

/* Ic√¥nes dans les liens de la barre de navigation */
.navbar a i {
  font-size: 28px; /* Taille de base des ic√¥nes */
  margin-right: 12px;
}

/* Pour les √©crans mobiles */
@media (max-width: 768px) {
  .navbar a {
    font-size: 32px; /* Taille plus grande sur mobile */
    padding: 10px; /* Moins de padding pour une meilleure utilisation de l'espace */
  }

  .navbar a i {
    font-size: 36px; /* Augmentation de la taille des ic√¥nes sur mobile */
  }
}
/* Ajuster le panier */
.cart-icon {
  position: relative;
}

.cart-icon span {
  position: absolute;
  top: -5px;
  right: -10px;
  background: red;
  color: white;
  font-size: 16px; /* Taille du texte du nombre dans le panier */
  font-weight: bold;
  padding: 3px 7px;
  border-radius: 50%;
}

/* Ajuster le panier */
.cart-icon {
  position: relative;
}

.cart-icon span {
  position: absolute;
  top: -5px;
  right: -10px;
  background: red;
  color: white;
  font-size: 14px;
  font-weight: bold;
  padding: 3px 7px;
  border-radius: 50%;
}
/* Badge compteur sur le Panier */
#cartCount {
  position: absolute;
  top: -5px;
  right: -10px;
  background-color: red;
  color: white;
  border-radius: 50%;
  padding: 2px 6px;
  font-size: 10px;
}

/* Menu d√©roulant des cat√©gories */
.category-buttons {
  display: flex;
  overflow-x: auto;
  white-space: nowrap;
  padding: 10px;
  background-color: #fff;
  border-bottom: 1px solid #ccc;
}

/* Style des boutons de cat√©gorie */
.category-button {
  flex: 0 0 auto;
  margin-right: 10px;
  padding: 10px 20px;
  background-color: #fff;
  color: #333;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold; /* Texte en gras */
  border: none;
  transition: all 0.3s ease; /* Animation fluide */
}

/* Effet au survol */
.category-button:hover {
  background-color: #f0f0f0;
  transform: scale(1.05); /* L√©g√®re augmentation de la taille */
  font-weight: bold; /* Confirme que le texte reste en gras */
}

/* Effet au clic */
.category-button:active {
  background-color: #ddd;
  transform: scale(0.95);
  font-weight: bold; /* Confirme que le texte reste en gras */
}
/* Style du chargement */
.loading {
  display: none;
  text-align: center;
  font-size: 18px;
  font-weight: bold;
  color: #555;
}

/* Section Produits */
main section {
  background-color: #ffffff;
  padding: 40px 0;
}
.grid-container {
  display: grid;
  grid-template-columns: repeat(10, 1fr);
  grid-auto-flow: row;
  gap: 20px;
  width: 100%;
  max-width: 100%;
  padding: 20px;
  margin: 0 auto;
}
.grid-item {
  background-color: #fff;
  padding: 10px;
  border-radius: 5px;
  /* Ombre supprim√©e */
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 150px;
  position: relative;
}
/* .grid-item:hover { transform: translateY(-10px); } */
.grid-item img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 0;
  word-wrap: break-word;
}
/* .grid-item img:hover { transform: scale(1.05); } */
.grid-item .product-name {
  font-size: 13px;
  font-weight: bold;
  margin-top: auto;
}
.grid-item .product-price {
  font-size: 12px;
  color: #ff9900;
  font-weight: bold;
}
.grid-item button {
  padding: 8px 12px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 12px;
  transition: background-color 0.3s;
}
.grid-item .add-to-cart {
  background-color: #ff9900;
  color: #fff;
}
/* Pour √©viter tout effet de survol sur le bouton add-to-cart */
.grid-item .add-to-cart:hover { 
  background-color: #ff9900;
}
.grid-item .add-to-cart {
  display: none; /* Cache le bouton Ajouter au panier */
}

.grid-item .details-button {
  display: block; /* Assure que le bouton est bien visible */
  width: 100%; /* Occupe toute la largeur */
  text-align: center; /* Centre le texte */
  font-size: 16px; /* Augmente la taille du texte */
  font-weight: bold; /* Met le texte en gras */
  padding: 10px; /* Ajuste le padding */
}
/* Section de d√©tail du produit */
#detailSection {
  display: none;
  padding: 20px;
  background-color: #fff;
  margin: 20px;
}
#detailSection img {
  width: 100%;
  max-width: 400px;
  border-radius: 8px;
}
#detailSection video {
  width: 100%;
  max-width: 400px;
  display: none;
}
#detailSection h1 {
  font-size: 2rem;
  margin-top: 20px;
}
#detailSection p {
  font-size: 1rem;
  margin: 10px 0;
}
.detail-description {
  max-height: 120px; /* Limitation de la hauteur */
  overflow-y: auto;
  padding-right: 10px;
}
.detail-info h1 {
  margin-top: 0;
  font-size: 2rem;
  color: #333;
}

/* Boutons dans la section d√©tail */
#addToCartButton,
#returnToProductsButton {
  background-color: #007bff; /* Bleu principal */
  color: #fff;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.3s ease, transform 0.3s ease;
  margin: 10px 5px;
}
#addToCartButton:hover,
#returnToProductsButton:hover {
  background-color: #0056b3;
  transform: scale(1.05);
}

/* Responsivit√© pour t√©l√©phone */
@media (max-width: 480px) {
  #detailSection {
    padding: 15px;
    margin: 10px;
  }
  /* Conteneur pour les m√©dias dans la section d√©tail */
#detailSection .media-wrapper {
  display: block; /* disposition par d√©faut en colonne pour les petits √©crans */
  gap: 20px;
}

/* Images et vid√©os √† 100% de largeur par d√©faut */
#detailSection img,
#detailSection video {
  width: 100%;
  max-width: 100%;
}

/* Sur grand √©cran, disposition horizontale */
@media (min-width: 1024px) {
  #detailSection .media-wrapper {
    display: flex;
    flex-direction: row;
  }
  #detailSection img,
  #detailSection video {
    max-width: 50%; /* chaque m√©dia prend jusqu'√† 50% de la largeur du conteneur */
  }
}
  #detailSection h1 {
    font-size: 1.5rem;
    margin-top: 15px;
  }
  #detailSection p {
    font-size: 0.9rem;
  }
  #addToCartButton,
  #returnToProductsButton {
    font-size: 0.9rem;
    padding: 8px 16px;
    margin: 8px 4px;
  }
  .detail-description {
    max-height: 100px;
  }
  .detail-info h1 {
    font-size: 1.5rem;
  }
}
/* Boutons dans la section d√©tail */
#addToCartButton,
#returnToProductsButton {
  background-color: #007bff; /* Bleu principal */
  color: #fff;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.3s ease, transform 0.3s ease;
  margin: 10px 5px;
}

/* Effet au survol */
#addToCartButton:hover,
#returnToProductsButton:hover {
  background-color: #0056b3;
  transform: scale(1.05);
}
.detail-description {
  max-height: 120px; /* ou la hauteur souhait√©e */
  overflow-y: auto;
  padding-right: 10px; /* pour √©viter que la scrollbar ne recouvre le texte */
}
.detail-info h1 {
  margin-top: 0;
  font-size: 2rem;
  color: #333;
}
.similar-products {
  margin-top: 30px;
}
.similar-products h2 {
  font-size: 20px;
  margin-bottom: 10px;
}

/* Grille des produits similaires avec 15 produits */
.similar-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr); /* 5 colonnes par ligne */
  gap: 20px;
  width: 100%;
  max-width: 100%;
  padding: 20px;
  margin: 0 auto;
  max-height: calc(15 * 1fr); /* Limite l'affichage √† 20 √©l√©ments */
  overflow: hidden; /* Cache les √©l√©ments en exc√®s */
}
.similar-item {
  background: #fff;
  padding: 15px;
  border-radius: 5px;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 150px;
  position: relative;
}
.similar-item {
  position: relative;
  /* Assurez-vous que l'image pourra d√©border du conteneur si besoin */
  overflow: visible;
}

.similar-item img {
  width: 100%;
  height: 100px;
  object-fit: cover;
  border-radius: 5px;
  transition: all 0.3s ease;
}

.similar-item:hover img {
  height: auto;        
  object-fit: contain; 
  transform: scale(1.05); 
  z-index: 10;            
}
/* .similar-item img:hover { transform: scale(1.05); } */
.similar-item .product-name {
  font-size: 12px;
  font-weight: bold;
  margin-top: auto;
}
.similar-item .product-price {
  font-size: 12px;
  color: #ff9900;
  font-weight: bold;
}
.similar-item button {
  padding: 8px 12px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 12px;
  transition: background-color 0.3s;
}
.similar-item .add-to-cart {
  background-color: #ff9900;
  color: #fff;
}
.similar-item .add-to-cart:hover { 
  background-color: #ff9900;
}

/* Responsive: Adaptation pour les petits √©crans */
@media (max-width: 600px) {
  .grid-container,
  .similar-grid {
    display: flex;
    flex-wrap: nowrap;
    overflow-x: auto;
    gap: 10px;
    padding: 10px;
  }
  .grid-item,
  .similar-item {
    flex: 0 0 auto;
    width: 150px;
    height: auto;
  }
  .search-container { width: 90%; }
  .navbar a { margin: 0 10px; font-size: 14px; }
  .detail-main { flex-direction: column; }
  .auth-buttons { top: 50px; right: 5px; }
}

.action-buttons-detail {
  margin-top: 20px;
  text-align: center;
}
.action-buttons-detail a {
  display: inline-block;
  padding: 10px 20px;
  background-color: orange;
  color: white;
  text-decoration: none;
  border-radius: 20px;
  font-size: 16px;
  margin: 0 10px;
  transition: background-color 0.3s;
}
footer {
  position: relative;
  margin-top: 40px;
  background-color: #131921;
  color: #fff;
  padding: 40px 20px;
  font-size: 14px;
}
.footer-container {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  margin-bottom: 20px;
}
.footer-column {
  flex: 1;
  min-width: 250px;
  margin: 10px;
}
.footer-column h3 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 16px;
}
.footer-column p {
  font-size: 14px;
  line-height: 1.5;
}
.footer-bottom {
  text-align: center;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  padding-top: 10px;
}

/* Toaster Notification */
.notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background-color: #28a745;
  color: white;
  padding: 10px 20px;
  border-radius: 5px;
  font-size: 14px;
  display: none;
  z-index: 1000;
  /* Ombre supprim√©e */
  opacity: 0;
  transition: opacity 0.5s ease;
}
.notification.show { display: block; opacity: 1; }

.new-badge {
  position: absolute;
  top: 10px;
  left: 10px;
  background-color: #ff0000;
  color: #fff;
  padding: 5px 10px;
  font-size: 0.8em;
  border-radius: 5px;
  z-index: 9999 !important;      
  display: block !important;      
  opacity: 1 !important;          
}
.location-indicator {
  position: absolute;
  top: 10px;
  left: 10px;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 16px;
  font-weight: bold;
  color: white;
}
.location-indicator img {
  width: 40px;
  height: auto;
}
.location-text {
  display: flex;
  align-items: center;
  color: white;
}
.location-text i {
  color: white;
  margin-right: 5px;
}
.filter-button {
  position: absolute;
  top: 100px;
  left: 10px;
  background-color: #007bff;
  color: white;
  border: none;
  padding: 10px 15px;
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
  border-radius: 5px;
  transition: background 0.3s;
}
.popular-products {
  display: none;
  background-color: #ffffff;
  padding: 40px 20px;
  margin-top: 0;
  position: relative;
}
.popular-products h2 {
  font-size: 24px;
  font-weight: bold;
  text-align: center;
  margin-bottom: 30px;
  color: #333;
}

/* Conteneur en d√©filement horizontal */
.popular-carousel {
  display: flex;
  overflow-x: auto;
  gap: 30px;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 10px;
}

/* Carte produit */
.popular-item {
  flex: 0 0 auto;
  width: 220px;
  background-color: #fff;
  border: 1px solid #e0e0e0;
  border-radius: 10px;
  padding: 15px;
  text-align: center;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  scroll-snap-align: start;
}

/* Effet de survol pour un look dynamique */
.popular-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

/* Image du produit */
.popular-item img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 10px;
}

/* Description ou titre du produit */
.popular-item p {
  font-size: 16px;
  color: #555;
  margin: 0;
  font-weight: 500;
}

/* Adaptation pour les mobiles */
@media (max-width: 768px) {
  .popular-carousel {
    gap: 20px;
  }
  .popular-item {
    width: 180px;
  }
}
.loading-container {
  text-align: center;
  margin: 20px 0;
}
.spinner {
  display: inline-block;
  width: 30px;
  height: 30px;
  border: 3px solid rgba(0, 0, 0, 0.3);
  border-top: 3px solid #3498db;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Responsive: Affichage sp√©cifique pour les √©crans d'ordinateurs */
@media only screen and (min-width: 1024px) {
  /* Contrainte du conteneur avec 6 produits par ligne */
  .grid-container,
  .similar-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr); /* 6 colonnes */
    gap: 20px;
    width: 100%;
    margin: 0 auto;
    overflow-x: hidden;
    box-sizing: border-box;
  }

  /* Ajustement des √©l√©ments pour mieux afficher les textes et images */
  .grid-item,
  .similar-item {
    min-height: 400px; /* Hauteur ajust√©e pour √©quilibrer espace image/texte */
    box-sizing: border-box;
    padding: 15px;
    overflow: hidden;
    background-color: #fff;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    text-align: center;
  }

  /* Ajustement de l‚Äôimage du produit */
  .grid-item img,
  .similar-item img {
    width: 100%;
    height: 220px; /* Laisse plus de place pour les textes */
    object-fit: cover;
  }

  /* Nom du produit - r√©duction des marges et ajustement de la hauteur de ligne */
  .grid-item .product-name,
  .similar-item .product-name {
    font-weight: bold;
    font-size: 14px;
    color: #333;
    margin: 0px 0;       /* Marges verticales r√©duites */
    line-height: 1.2;    /* Texte plus compact */
  }

  /* Description du produit limit√©e √† 4 lignes et en bleu */
  .grid-item .product-description,
  .similar-item .product-description {
    font-size: 14px;
    color: blue;
    margin: 0px 0;       /* Marges verticales r√©duites */
    padding: 0 5px;
    line-height: 1.2;    /* Texte plus compact */
    display: -webkit-box;
    -webkit-line-clamp: 4;      /* Affiche 4 lignes */
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Conteneur du prix et du bouton "D√©tail" - espacement minimal */
  .grid-item .price-container,
  .similar-item .price-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 0;    /* Espacement r√©duit */
  }

  /* Prix du produit */
  .grid-item .product-price,
  .similar-item .product-price {
    font-size: 14px;
    color: #d9534f;
    font-weight: bold;
    text-align: center;
    margin-top: 0;   /* Espacement r√©duit */
    line-height: 1.2; /* Texte plus compact */
  }

  /* Bouton "D√©tail" */
  .grid-item .details-button,
  .similar-item .details-button {
    background: transparent;
    border: none;
    color: #007bff;
    font-size: 14px;
    font-weight: bold;
    padding: 2px 5px;   /* Padding r√©duit */
    cursor: pointer;
    text-align: right;
    margin-top: 0;      /* Espacement r√©duit */
    line-height: 1.2;   /* Texte plus compact */
  }
}
/* Masquer le bouton "Acheter" */
  .grid-item .add-to-cart,
  .similar-item .add-to-cart {
    display: none;
  }

  /* Emp√™cher le d√©filement horizontal */
  html, body {
    overflow-x: hidden;
  }
}

.navbar {
  padding: 15px 30px;
}

.search-container {
  width: 60%;
}
  </style>
</head>
<body>
  <!-- En-t√™te -->
  <header>
    <div class="top-header">
      <div class="logo" style="font-size: 10px; font-weight: bold; color: #fff;"></div>
    </div>
    <div class="search-bar-container">
      <div class="search-container">
        <input type="text" id="searchBox" placeholder="Rechercher un produit...">
        <button id="searchBtn">Rech...</button>
      </div>
    </div>
    <!-- Navigation principale -->
    <nav class="navbar">
      <a href="/" title="Accueil"></a>
      <a href="/espace-vendeur" title="Espace Vendeur">üë§</a>
      <a href="/panier" title="Panier" style="position: relative;">
        üõí <span id="cartCount">0</span>
      </a>
    </nav>
  </header>
  
  <!-- Boutons de cat√©gories -->
  <div class="category-buttons">
    <button class="category-button" data-category="Tous">Tous</button>
    <button class="category-button" data-category="Homme">Homme</button>
    <button class="category-button" data-category="Femme">Femme</button>
    <button class="category-button" data-category="Gar√ßon">Gar√ßon</button>
    <button class="category-button" data-category="Fille">Fille</button>
    <button class="category-button" data-category="B√©b√©">B√©b√©</button>
    <button class="category-button" data-category="Enfant">Enfant</button>
    <button class="category-button" data-category="Sport">Sport</button>
    <button class="category-button" data-category="Livres">Livres</button>
    <button class="category-button" data-category="Mat√©riels">Mat√©riels</button>
    <button class="category-button" data-category="Cosm√©tique">Cosm√©tique</button>
    <button class="category-button" data-category="Accessoires">Accessoires</button>
    <button class="category-button" data-category="Electronique">Electronique</button>
  </div>
  
  <!-- Section Produits -->
  <main>
    <div class="popular-products">
      <h2 style="font-size: 15px;"></h2>
      <div class="popular-carousel" id="popularProducts"></div>
    </div>
    <section>
      <div id="loadingIndicator" class="loading-container">
        <div class="spinner"></div>
        <p>Chargement des produits...</p>
      </div> 
      <h2 style="text-align: center; margin-top: 10px; font-size: 15px; font-weight: bold; color: #333;"></h2>
      <div id="loading" class="loading">Chargement en cours...</div>
      <div id="product-list"></div>
      <div id="productGrid" class="grid-container"></div>
    </section>
    <div id="productContainer" style="display: none;"></div>
    <!-- Section de d√©tail du produit -->
  <div id="detailSection" style="display: none;">
  <h2>Image principale du produit</h2>
  <img id="detailImage" src="" alt="Image du produit">

  <h3>Galerie d'images</h3>
  <div id="imageCarousel" class="carousel"></div>

  <h3>Vid√©o du produit</h3>
  <video id="detailVideo" controls style="display: none;"></video>
</div>
     <h1 id="detailName">Nom du produit : </h1>
<p id="detailDescription"><strong>Description : </strong></p>
<p id="detailPrice"><strong>Prix : </strong></p>
<p id="detailSeller"><strong>Vendeur : </strong></p>
<p id="detailStock"><strong>Stock disponible : </strong></p>
<p id="detailCreatedAt"><strong>Date de publication : </strong></p>
<p id="detailOrders"><strong>Nombre de commandes : </strong></p>
<p id="detailViews"><strong>Nombre de vues : </strong></p>
<p id="detailAddToCart"><strong>Option d'ajout au panier : </strong></p>
      
      <!-- Informations compl√©mentaires -->
      <p><strong>Remise :</strong> <span id="detailDiscount"></span></p>
      <p><strong>Marque :</strong> <span id="detailBrand"></span></p>
      <p><strong>R√©f√©rence (SKU) :</strong> <span id="detailSKU"></span></p>
      <p><strong>Poids :</strong> <span id="detailWeight"></span> kg</p>
      <p><strong>Dimensions (L x l x H) :</strong> <span id="detailDimensions"></span> cm</p>
      <p><strong>Frais de livraison :</strong> <span id="detailShippingCost"></span> FCFA</p>
      <p><strong>D√©lai de livraison estim√© :</strong> <span id="detailEstimatedDelivery"></span> jours</p>
      <p><strong>Politique de retour :</strong> <span id="detailReturnPolicy"></span></p>
      <p><strong>Garantie :</strong> <span id="detailWarranty"></span></p>
      
      <div id="reviewSection"></div>
      <button id="contactSellerButton" style="display: none;">Contacter le vendeur</button>
      <button id="addToCartButton">Ajouter au panier</button>
      <button id="returnToProductsButton">Retour aux produits</button>
      <div id="similarGrid" class="similar-grid"></div>
      
      <!-- Section pour discuter avec le vendeur -->
      <div id="contactSellerSection">
        <h3>Discuter avec le vendeur</h3>
        <textarea id="contactSellerMessage" placeholder="Votre message"></textarea>
        <button onclick="contactSeller()">Envoyer</button>
      </div>
    </div>
    <div id="review-section">
      <!-- Les avis clients s'afficheront ici -->
    </div>
  </main>
  
  <!-- Pied de page -->
  <footer>
    <div class="footer-container">
      <div class="footer-column about">
        <h3>√Ä propos de Kolwaz Shop</h3>
        <p>Kolwaz Shop est votre boutique en ligne de confiance offrant des produits de qualit√© et un service exceptionnel. D√©couvrez notre vaste gamme et profitez d'une exp√©rience d'achat in√©gal√©e.</p>
      </div>
      <div class="footer-column links">
        <h3>Liens rapides</h3>
        <ul>
          <li><a href="/">Accueil</a></li>
          <li><a href="/espace-vendeur">Espace vendeur</a></li>
          <li><a href="/panier">Panier</a></li>
          <li><a href="/Administrateur">Administrateur</a></li>
          <li><a href="/contact">Contact</a></li>
        </ul>
      </div>
      <div class="footer-column contact">
        <h3>Comment devenir vendeur chez Kolwazshop</h3>
        <p>Inscription et Cr√©ation de Compte :</p>
        <p>Rendez-vous sur le site de KolwazShop.</p>
      </div>
      <div class="footer-column social">
        <h3>Suivez-nous</h3>
        <ul class="social-icons" style="display: flex; list-style: none; gap: 10px;">
          <li>
            <a href="#" aria-label="Facebook">
              <svg width="30" height="30" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M22.675 0h-21.35C.597 0 0 .597 0 1.325v21.351C0 23.403.597 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.894-4.787 4.658-4.787 1.325 0 2.462.099 2.794.143v3.24l-1.917.001c-1.504 0-1.796.714-1.796 1.764v2.312h3.592l-.467 3.622h-3.125V24h6.127c.728 0 1.325-.597 1.325-1.324V1.325C24 .597 23.403 0 22.675 0z"/>
              </svg>
            </a>
          </li>
          <li>
            <a href="#" aria-label="Twitter">
              <svg width="30" height="30" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M23.954 4.569c-.885.394-1.83.657-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.95.555-2.005.959-3.127 1.184-.897-.957-2.173-1.555-3.591-1.555-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.125-4.09-.205-7.719-2.165-10.148-5.144-.424.722-.666 1.56-.666 2.476 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.229-.616v.061c0 2.385 1.693 4.374 3.946 4.828-.413.111-.849.171-1.296.171-.317 0-.626-.03-.927-.086.631 1.956 2.462 3.38 4.63 3.423-1.7 1.328-3.839 2.115-6.165 2.115-.4 0-.79-.023-1.17-.067 2.196 1.41 4.808 2.23 7.616 2.23 9.142 0 14.307-7.721 14.307-14.417 0-.22-.005-.437-.014-.653.982-.71 1.834-1.597 2.507-2.61z"/>
              </svg>
            </a>
          </li>
          <li>
            <a href="#" aria-label="Instagram">
              <svg width="30" height="30" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2.163c3.204 0 3.584.012 4.849.07 1.366.062 2.633.327 3.608 1.302.975.975 1.24 2.242 1.302 3.608.058 1.265.069 1.645.069 4.849s-.012 3.584-.07 4.849c-.062 1.366-.327 2.633-1.302 3.608-.975.975-2.242 1.24-3.608 1.302-1.265.058-1.645.069-4.849.069s-3.584-.012-4.849-.07c-1.366-.062-2.633-.327-3.608-1.302-.975-.975-1.24-2.242-1.302-3.608-.058-1.265-.069-1.645-.069-4.849s.012-3.584.07-4.849c.062-1.366.327-2.633 1.302-3.608.975-.975 2.242-1.24 3.608-1.302 1.265-.058 1.645-.069 4.849-.069M12 0C8.741 0 8.332.012 7.052.07 5.746.128 4.57.354 3.527 1.394 2.485 2.434 2.26 3.609 2.202 4.915 2.144 6.195 2.132 6.604 2.132 9.863s.012 3.668.07 5.948c.058 1.306.283 2.481 1.325 3.521 1.042 1.041 2.217 1.266 3.521 1.325 1.28.058 1.689.07 4.948.07s3.668-.012 4.948-.07c1.306-.058 2.481-.283 3.521-1.325 1.041-1.042 1.266-2.217 1.325-3.521.058-1.28.07-1.689.07-4.948s-.012-3.668-.07-4.948c-.058-1.306-.283-2.481-1.325-3.521C19.766.354 18.591.128 17.285.07 16.005.012 15.595 0 12 0zm0 5.838c-3.408 0-6.162 2.754-6.162 6.162s2.754 6.162 6.162 6.162 6.162-2.754 6.162-6.162-2.754-6.162-6.162-6.162zm0 10.162c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm6.406-10.845c-.796 0-1.44.645-1.44 1.44s.645 1.44 1.44 1.44 1.44-.645 1.44-1.44-.645-1.44-1.44-1.44z"/>
              </svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Kolwaz Shop. Tous droits r√©serv√©s.</p>
      <p>&copy; Diasking.</p>
    </div>
  </footer>
  
  <!-- Toaster notification -->
  <div id="notification" class="notification"></div>
  
  <!-- Indicateur de chargement -->
  <div id="loadingIndicator" style="display: none;">Chargement...</div>
  <div id="productContainer"></div>
  
  <script>
    // Variables globales
    let allProducts = [];
    let cartCount = 0;
    let currentProduct = null;

    // Fonction pour afficher/cacher le formulaire de publication (si utilis√©)
    function togglePublicationForm() {
      const formSection = document.getElementById("publicationForm");
      if(formSection) {
        formSection.style.display = (formSection.style.display === "block") ? "none" : "block";
      }
    }

    // Fonctions manquantes (dummy)
    function displayConfirmationMessage() {
      console.log("Confirmation message affich√©e.");
    }
    function fetchSellerProducts() {
      console.log("fetchSellerProducts appel√©.");
    }
    function setupSidebarFilters() {
      const rows = document.querySelectorAll('#filterTable td');
      rows.forEach(row => {
        row.addEventListener('click', () => {
          const keyword = row.textContent.trim();
          filterProductsByKeyword(keyword);
        });
      });
    }
    function filterProductsByKeyword(keyword) {
      const searchText = keyword.toLowerCase();
      const filtered = allProducts.filter(product => {
        return (product.productName && product.productName.toLowerCase().includes(searchText)) ||
               (product.description && product.description.toLowerCase().includes(searchText)) ||
               (product.detectedCategory && product.detectedCategory.toLowerCase().includes(searchText));
      });
      displayProducts(filtered);
    }
    async function loadReviews(productId) {
      // Fonction simplifi√©e pour charger les avis
      const reviewSection = document.getElementById("review-section");
      reviewSection.innerHTML = "<p>Aucun avis pour le moment.</p>";
    }
    function hideDetailSection() {
      document.getElementById("detailSection").style.display = "none";
      document.getElementById("productGrid").style.display = "grid";
    }
    function orderProduct(button) {
      if (!currentProduct) return;
      addToCart(currentProduct.productName, currentProduct.price, currentProduct.description, currentProduct.imageUrl, currentProduct.sellerEmail, button);
    }

    // Initialisation lors du chargement de la page
    window.addEventListener('load', function() {
      loadProducts();
      setupCategoryFilters();
      setupSearch();
      setupSidebarFilters();
      displayConfirmationMessage();
      fetchSellerProducts();
      // √âv√©nement pour le bouton "Ajouter au panier" dans la vue d√©taill√©e
      document.getElementById("addToCartButton").addEventListener("click", function() {
        if (currentProduct) {
          addToCart(currentProduct.productName, currentProduct.price, currentProduct.description, currentProduct.imageUrl, currentProduct.sellerEmail, this);
        }
      });
    });

    // Chargement des produits depuis l'API et affichage
    async function loadProducts() {
      const loadingIndicator = document.getElementById('loadingIndicator');
      const productGrid = document.getElementById('productGrid');
      loadingIndicator.style.display = 'block';
      productGrid.style.display = 'none';

      try {
        // Simuler un d√©lai de chargement
        await new Promise(resolve => setTimeout(resolve, 1500));

        // R√©cup√©ration des produits depuis l'API
        const response = await fetch('/api/products');
        if (!response.ok) throw new Error('Erreur serveur');
        const data = await response.json();
        allProducts = data.products || [];

        // D√©tection automatique de la cat√©gorie pour chaque produit
        allProducts.forEach(product => {
          product.detectedCategory = product.detectedCategory || aiDetectCategory(product);
        });

        // Trier les produits par popularit√© (bas√© sur le nombre de commandes)
        allProducts.sort((a, b) => (b.orders || 0) - (a.orders || 0));

        displayProducts(allProducts);
      } catch (err) {
        console.error("Erreur lors du chargement des produits:", err);
      } finally {
        loadingIndicator.style.display = 'none';
        productGrid.style.display = 'grid';
      }
    }

    // Affichage des produits dans la grille principale
    function displayProducts(products) {
      const productGrid = document.getElementById("productGrid");
      productGrid.innerHTML = products.length
        ? ""
        : "<p style='text-align:center;'>Aucun produit publi√© pour le moment.</p>";

      products.forEach(product => {
        const productItem = document.createElement("div");
        productItem.className = 'grid-item';

        // Badge "Nouveau"
        let badgeHTML = '';
        if (product.publishedAt) {
          const publishedDate = new Date(product.publishedAt);
          const now = new Date();
          const diffDays = (now - publishedDate) / (1000 * 60 * 60 * 24);
          if (diffDays < 7) {
            badgeHTML = '<span class="new-badge">Nouveau</span>';
          }
        }

        productItem.innerHTML =
          `<div class="product-image-wrapper" style="position: relative;">
             <img src="${product.imageUrl}" alt="${product.productName}" class="product-image">
             ${badgeHTML}
           </div>
           <div class="product-name">
             ${product.productName}
           </div>
           <div class="product-description" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
             ${product.description}
           </div>
           <div class="product-price">${product.price} FCFA</div>`;
           
        // Navigation vers la vue d√©taill√©e au clic sur le produit
        productItem.addEventListener("click", () => {
          showProductDetailView(product);
        });

        productGrid.appendChild(productItem);
      });
    }

    // Recherche sur tous les produits
    function setupSearch() {
      const searchBtn = document.getElementById("searchBtn");
      const searchBox = document.getElementById("searchBox");
      searchBtn.addEventListener("click", () => {
        const query = searchBox.value.trim().toLowerCase();
        const filtered = allProducts.filter(product => {
          return (product.productName && product.productName.toLowerCase().includes(query)) ||
                 (product.description && product.description.toLowerCase().includes(query)) ||
                 (product.detectedCategory && product.detectedCategory.toLowerCase().includes(query));
        });
        displayProducts(filtered);
      });
      searchBox.addEventListener("keyup", (event) => {
        if (event.key === "Enter") searchBtn.click();
      });
    }

    // Mise en place des filtres par cat√©gorie
    function setupCategoryFilters() {
      const buttons = document.querySelectorAll('.category-button');
      const productGrid = document.getElementById('productGrid');
      const loadingIndicator = document.getElementById('loading');
      buttons.forEach(button => {
        button.addEventListener('click', () => {
          const category = button.getAttribute('data-category');
          loadingIndicator.style.display = 'block';
          setTimeout(() => {
            let filteredProducts;
            if (category.toLowerCase() === 'tous') {
              filteredProducts = allProducts;
            } else {
              filteredProducts = allProducts.filter(product =>
                product.detectedCategory &&
                product.detectedCategory.toLowerCase().includes(category.toLowerCase())
              );
            }
            loadingIndicator.style.display = 'none';
            if (filteredProducts.length === 0) {
              productGrid.innerHTML = "<p style='text-align:center;'>Aucun produit trouv√© pour cette cat√©gorie.</p>";
            } else {
              displayProducts(filteredProducts);
            }
          }, 500);
        });
      });
    }

    // Fonction de d√©tection automatique de cat√©gorie
    function aiDetectCategory(product, chosenCategory) {
      if (chosenCategory) return chosenCategory.toLowerCase();
      const name = product.productName ? product.productName.toLowerCase() : '';
      const description = product.description ? product.description.toLowerCase() : '';
      const imageUrl = product.imageUrl ? product.imageUrl.toLowerCase() : '';
      const categoriesKeywords = {
        "homme": ["homme", "men", "gar√ßon", "costume", "habit", "veste", "pantalon", "chemise"],
        "femme": ["femme", "woman", "dame", "robe", "jupe", "blouse", "maquillage", "sac √† main"],
        "gar√ßon": ["gar√ßon", "boy", "enfant gar√ßon", "jeune homme", "ado gar√ßon", "t-shirt gar√ßon"],
        "fille": ["fille", "girl", "jeune fille", "ado fille", "robe fille", "jupe fille"],
        "b√©b√©": ["b√©b√©", "enfant", "nourrisson", "bambin"],
        "cosm√©tique": ["cosm√©tique", "makeup", "maquillage", "parfum", "soin"],
        "mat√©riels": ["mat√©riel", "outil", "machine"],
        "accessoires": ["accessoire", "sac", "ceinture", "montre", "bijoux", "lunettes"],
        "electronique": ["√©lectronique", "smartphone", "ordinateur", "tablet", "tv", "cam√©ra", "audio"],
        "livres": ["livre", "book", "roman", "manga", "bd", "bande dessin√©e", "√©ducation"],
        "sport": ["sport", "football", "basket", "tennis", "running", "fitness", "v√©lo", "musculation"]
      };
      for (const [category, keywords] of Object.entries(categoriesKeywords)) {
        for (const keyword of keywords) {
          if (name.includes(keyword) || description.includes(keyword) || imageUrl.includes(keyword)) {
            return category;
          }
        }
      }
      return "autres";
    }

    // Fonction pour ajouter un produit au panier
    function addToCart(name, price, description, imageUrl, sellerEmail, button) {
      button.textContent = "Ajout√©!";
      button.disabled = true;
      button.style.backgroundColor = "#28a745";
      fetch('/api/add-to-cart', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name, price, description, imageUrl, sellerEmail })
      })
      .then(response => response.ok ? response.json() : Promise.reject('Erreur API'))
      .then(data => {
        if (data.success) {
          cartCount++;
          updateCartCount();
        } else {
          throw new Error("Erreur lors de l'ajout au panier");
        }
      })
      .catch(err => {
        console.error("√âchec lors de l'ajout au panier:", err);
        button.textContent = "R√©essayer";
        button.disabled = false;
      });
      showNotification(`${name} ajout√© au panier!`);
    }

    // Mise √† jour du compteur du panier
    function updateCartCount() {
      document.getElementById("cartCount").textContent = cartCount;
    }

    // Affichage d'une notification temporaire
    function showNotification(message) {
      const notification = document.getElementById("notification");
      if (!notification) return;
      notification.textContent = message;
      notification.classList.add("show");
      setTimeout(() => notification.classList.remove("show"), 3000);
    }

    // Affichage de la vue d√©tail d'un produit
    function showProductDetailView(product) {
      currentProduct = product;
      
      // R√©initialiser le bouton "Ajouter au panier"
      const addToCartButton = document.getElementById("addToCartButton");
      if (addToCartButton) {
        addToCartButton.textContent = "Ajouter au panier";
        addToCartButton.disabled = false;
        addToCartButton.style.backgroundColor = ""; // R√©initialiser le style si n√©cessaire
      }

      // Masquer la grille et afficher la section de d√©tail
      document.getElementById("productGrid").style.display = "none";
      document.getElementById("detailSection").style.display = "block";

      // Mise √† jour des informations de base
      document.getElementById("detailImage").src = product.imageUrl || "";
      document.getElementById("detailImage").alt = product.productName || "Image du produit";
      document.getElementById("detailName").innerText = product.productName || "Nom inconnu";
      document.getElementById("detailDescription").innerText = product.description || "";
      document.getElementById("detailPrice").innerText = product.price ? `${product.price.toFixed(2)} FCFA` : "";
      document.getElementById("detailSeller").innerText = product.sellerEmail || "Inconnu";

      // Informations compl√©mentaires
      if (document.getElementById("detailDiscount"))
        document.getElementById("detailDiscount").innerText = product.discount ? product.discount + (product.discountType === "percentage" ? " %" : " FCFA") : "Aucune remise";
      if (document.getElementById("detailBrand"))
        document.getElementById("detailBrand").innerText = product.brand || "Non sp√©cifi√©e";
      if (document.getElementById("detailSKU"))
        document.getElementById("detailSKU").innerText = product.sku || "N/A";
      if (document.getElementById("detailWeight"))
        document.getElementById("detailWeight").innerText = product.weight ? product.weight + " kg" : "Non sp√©cifi√©";
      if (document.getElementById("detailDimensions") && product.dimensions) {
        const { length, width, height } = product.dimensions;
        document.getElementById("detailDimensions").innerText = `${length || 0} x ${width || 0} x ${height || 0} cm`;
      }
      if (document.getElementById("detailShippingCost"))
        document.getElementById("detailShippingCost").innerText = product.shippingCost ? product.shippingCost + " FCFA" : "Gratuit";
      if (document.getElementById("detailEstimatedDelivery"))
        document.getElementById("detailEstimatedDelivery").innerText = product.estimatedDelivery ? product.estimatedDelivery + " jours" : "Non pr√©cis√©";
      if (document.getElementById("detailReturnPolicy"))
        document.getElementById("detailReturnPolicy").innerText = product.returnPolicy || "Non sp√©cifi√©e";
      if (document.getElementById("detailWarranty"))
        document.getElementById("detailWarranty").innerText = product.warranty || "Aucune";

      if (document.getElementById("detailCreatedAt") && product.createdAt)
        document.getElementById("detailCreatedAt").innerText = new Date(product.createdAt).toLocaleDateString();
      if (document.getElementById("detailOrders") && product.orders !== undefined)
        document.getElementById("detailOrders").innerText = product.orders;
      if (document.getElementById("detailViews") && product.views !== undefined)
        document.getElementById("detailViews").innerText = product.views;
      if (document.getElementById("detailAddToCart") && product.addToCart !== undefined)
        document.getElementById("detailAddToCart").innerText = product.addToCart;

      // Gestion de la vid√©o du produit
      if (product.videoUrl) {
        document.getElementById("detailVideo").src = product.videoUrl;
        document.getElementById("detailVideo").style.display = "block";
      } else {
        document.getElementById("detailVideo").style.display = "none";
      }

      // Affichage de la galerie d'images compl√©mentaires
      const imageCarousel = document.getElementById("imageCarousel");
      if (imageCarousel) {
        imageCarousel.innerHTML = "";
        if (Array.isArray(product.images)) {
          product.images.forEach(imageUrl => {
            const img = document.createElement("img");
            img.src = imageUrl;
            img.alt = product.productName;
            imageCarousel.appendChild(img);
          });
        }
      }

      // Affichage des produits similaires
      const similarProducts = allProducts.filter(p => {
        return (p._id !== product._id) && 
          (p.detectedCategory === product.detectedCategory || aiDetectCategory(p) === aiDetectCategory(product));
      });
      displaySimilarProducts(similarProducts);

      // Affichage des avis du produit
      const reviewSection = document.getElementById("reviewSection");
      if (reviewSection) reviewSection.innerHTML = "";
      if (Array.isArray(product.reviews)) {
        product.reviews.forEach(review => {
          const div = document.createElement("div");
          div.className = "review-item";
          div.innerHTML = `<p>${review.comment}</p><p>${review.rating} ‚òÖ</p>`;
          reviewSection.appendChild(div);
        });
      }

      // Boutons de navigation (produit suivant/pr√©c√©dent)
      const nextBtn = document.getElementById("nextProduct");
      if (nextBtn) {
        nextBtn.onclick = function() {
          const currentIndex = allProducts.findIndex(p => p._id === currentProduct._id);
          const nextProduct = allProducts[(currentIndex + 1) % allProducts.length];
          showProductDetailView(nextProduct);
        };
      }
      const prevBtn = document.getElementById("prevProduct");
      if (prevBtn) {
        prevBtn.onclick = function() {
          const currentIndex = allProducts.findIndex(p => p._id === currentProduct._id);
          const prevProduct = allProducts[(currentIndex - 1 + allProducts.length) % allProducts.length];
          showProductDetailView(prevProduct);
        };
      }
      // Bouton "Retour aux produits"
      document.getElementById("returnToProductsButton").addEventListener("click", hideDetailSection);
      
      // Afficher le bouton pour contacter le vendeur
      const contactSellerButton = document.getElementById("contactSellerButton");
      if (contactSellerButton) contactSellerButton.style.display = "block";

      loadReviews(product._id);
    }

    // Fonction pour afficher les produits similaires dans la vue d√©tail
    function displaySimilarProducts(products) {
      const similarGrid = document.getElementById("similarGrid");
      if (!similarGrid) return;
      similarGrid.innerHTML = "";
      if (products.length === 0) {
        similarGrid.innerHTML = "<p>Aucun produit similaire trouv√©.</p>";
        return;
      }
      products.forEach(prod => {
        const div = document.createElement("div");
        div.className = "similar-item";
        div.innerHTML = `
          <img src="${prod.imageUrl}" alt="${prod.productName}">
          <div class="product-name">${prod.productName}</div>
          <div class="product-price">${prod.price} FCFA</div>
          <button class="add-to-cart" onclick="addToCart('${prod.productName}', ${prod.price}, '${prod.description}', '${prod.imageUrl}', '${prod.sellerEmail}', this)">Ajouter au panier</button>
        `;
        // Permet de naviguer vers le d√©tail en cliquant sur l'√©l√©ment
        div.addEventListener("click", function() {
          showProductDetailView(prod);
        });
        similarGrid.appendChild(div);
      });
    }

    // Exposition de certaines fonctions pour utilisation inline
    window.showProductDetailView = showProductDetailView;
    window.hideDetailSection = hideDetailSection;
    window.orderProduct = orderProduct;
    window.contactSeller = function() {
      const messageInput = document.getElementById("contactSellerMessage");
      const message = messageInput ? messageInput.value : "";
      if (!message.trim()) {
        alert("Veuillez saisir votre message.");
        return;
      }
      alert("Message envoy√© au vendeur : " + message);
      if (messageInput) messageInput.value = "";
    };
    window.filterProductsByKeyword = filterProductsByKeyword;
  </script>
</body>
</html>
